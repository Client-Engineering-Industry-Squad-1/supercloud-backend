Table nist {
  number string [pk]
  family string // [not null, unique]
  title string
  priority string
  baseline_impact object
  statement object
  supplemental_guidance object
  references object
  withdrawn object
  base_control string
  parent_control string [ref: > nist.number]
}

Table control {
  id string [pk]
  name string
  description string
  fs_guidance string
  parameters string
  implementation string
  base_control boolean
  parent_control string [ref: > control.id]
  nist string [ref: > nist.number]
}

Enum grouping_enum {
  sandi
  network
  storage
  databases
  compute
  devtools
}
Enum deployment_method_enum {
  platform
  managed_service
}

Table service {
  service_id string [pk]
  grouping grouping_enum
  ibm_catalog_service string
  desc string
  deployment_method deployment_method_enum
  provision string
  automation_id string
  default_automation_variables string
}

Table control_mapping {
  _id string
  control_id string [pk, ref: > control.id]
  service_id string [pk, ref: > service.service_id]
  arch_id string [pk, ref: > architecture.id]
  control_subsections string [pk, note: 'IBM SSP control sub section(s).']
  compliant string
  configuration string
  evidence string
  scc_profile string [pk, ref: > profile.id]
  desc string
  comment string
}

Table goal {
  id string [pk]
  description string
  parameters string
  parameters_default string
  comments string
}

Table mapping_goals {
  goal_id  string [pk, ref: > goal.id]
  mapping_id string [pk, ref: > control_mapping._id]
}

Table profile {
  id string [pk]
  name string
  description string
}

Table architecture {
  id string [pk]
  name string
  short_desc string
  long_desc string
  diagram_link_drawio string
  diagram_link_png string
  partner_name string
  confidential boolean
  production_ready boolean
  automation_variables string
}

Table bom {
  service_id string [pk, ref: > service.service_id]
  arch_id string [pk, ref: > architecture.id]
  desc string
  automation_variables string
}

Table automation {
  id string [pk, ref: > service.service_id]
  type string
  module_name string
  module_location string
}